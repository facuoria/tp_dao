{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/facuo/OneDrive/Documentos/UTN/4to/DAO/TP-Git/tp_dao/components/FormField.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { ReactNode } from 'react';\r\n\r\nexport default function FormField({\r\n  label, children, error,\r\n}: { label: string; children: ReactNode; error?: string }) {\r\n  return (\r\n    <div>\r\n      <label className=\"label\">{label}</label>\r\n      {children}\r\n      {error ? <p className=\"text-red-600 text-sm mt-1\">{error}</p> : null}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;AAIe,SAAS,UAAU,EAChC,KAAK,EAAE,QAAQ,EAAE,KAAK,EACiC;IACvD,qBACE,8OAAC;;0BACC,8OAAC;gBAAM,WAAU;0BAAS;;;;;;YACzB;YACA,sBAAQ,8OAAC;gBAAE,WAAU;0BAA6B;;;;;uBAAa;;;;;;;AAGtE","debugId":null}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/facuo/OneDrive/Documentos/UTN/4to/DAO/TP-Git/tp_dao/lib/validation/paciente.schema.ts"],"sourcesContent":["import { z } from 'zod';\r\n\r\nconst DNI_REGEX = /^\\d{7,8}$/;\r\nconst PHONE_REGEX = /^\\d{7,15}$/; // solo dígitos (AR u otros, rango amplio)\r\nconst today = new Date(); today.setHours(0,0,0,0);\r\n\r\nexport const pacienteSchema = z.object({\r\n  dni: z.string().trim().regex(DNI_REGEX, 'DNI inválido: usar solo dígitos (7–8)'),\r\n\r\n  nombre: z.string().min(1, 'Nombre requerido'),\r\n  apellido: z.string().min(1, 'Apellido requerido'),\r\n\r\n  mail: z.string().email('Email inválido').optional().or(z.literal('')),\r\n\r\n  // Teléfono: opcional. Si se informa, debe ser solo dígitos y 7–15 caracteres\r\n  telefono: z.string().optional().or(z.literal('')).refine(\r\n    (v) => !v || PHONE_REGEX.test(v),\r\n    { message: 'Teléfono inválido: usar solo dígitos (7–15)' }\r\n  ),\r\n\r\n  fecha_nacimiento: z.string()\r\n    .optional()\r\n    .or(z.literal(''))\r\n    .refine((v) => !v || new Date(v).setHours(0,0,0,0) <= today.getTime(), {\r\n      message: 'La fecha no puede ser futura',\r\n    }),\r\n});\r\n\r\nexport type PacienteInput = z.infer<typeof pacienteSchema>;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,YAAY;AAClB,MAAM,cAAc,cAAc,0CAA0C;AAC5E,MAAM,QAAQ,IAAI;AAAQ,MAAM,QAAQ,CAAC,GAAE,GAAE,GAAE;AAExC,MAAM,iBAAiB,kLAAC,CAAC,MAAM,CAAC;IACrC,KAAK,kLAAC,CAAC,MAAM,GAAG,IAAI,GAAG,KAAK,CAAC,WAAW;IAExC,QAAQ,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC1B,UAAU,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAE5B,MAAM,kLAAC,CAAC,MAAM,GAAG,KAAK,CAAC,kBAAkB,QAAQ,GAAG,EAAE,CAAC,kLAAC,CAAC,OAAO,CAAC;IAEjE,6EAA6E;IAC7E,UAAU,kLAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,EAAE,CAAC,kLAAC,CAAC,OAAO,CAAC,KAAK,MAAM,CACtD,CAAC,IAAM,CAAC,KAAK,YAAY,IAAI,CAAC,IAC9B;QAAE,SAAS;IAA8C;IAG3D,kBAAkB,kLAAC,CAAC,MAAM,GACvB,QAAQ,GACR,EAAE,CAAC,kLAAC,CAAC,OAAO,CAAC,KACb,MAAM,CAAC,CAAC,IAAM,CAAC,KAAK,IAAI,KAAK,GAAG,QAAQ,CAAC,GAAE,GAAE,GAAE,MAAM,MAAM,OAAO,IAAI;QACrE,SAAS;IACX;AACJ","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/facuo/OneDrive/Documentos/UTN/4to/DAO/TP-Git/tp_dao/lib/api/client.ts"],"sourcesContent":["export async function api<T>(\r\n  path: string,\r\n  init?: RequestInit & { searchParams?: Record<string, string | number | boolean | undefined> }\r\n): Promise<T> {\r\n  const url = new URL(path, typeof window !== 'undefined' ? window.location.origin : 'http://localhost:3000');\r\n  if (init?.searchParams) {\r\n    Object.entries(init.searchParams).forEach(([k, v]) => {\r\n      if (v !== undefined && v !== null) url.searchParams.set(k, String(v));\r\n    });\r\n  }\r\n  const res = await fetch(url.toString(), {\r\n    ...init,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...(init?.headers || {}),\r\n    },\r\n  });\r\n  if (!res.ok) {\r\n    const errorText = await res.text().catch(() => '');\r\n    throw new Error(errorText || `Error ${res.status}`);\r\n  }\r\n  if (res.status === 204) return undefined as unknown as T;\r\n  return res.json() as Promise<T>;\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,eAAe,IACpB,IAAY,EACZ,IAA6F;IAE7F,MAAM,MAAM,IAAI,IAAI,MAAM,sCAAgC,0BAAyB;IACnF,IAAI,MAAM,cAAc;QACtB,OAAO,OAAO,CAAC,KAAK,YAAY,EAAE,OAAO,CAAC,CAAC,CAAC,GAAG,EAAE;YAC/C,IAAI,MAAM,aAAa,MAAM,MAAM,IAAI,YAAY,CAAC,GAAG,CAAC,GAAG,OAAO;QACpE;IACF;IACA,MAAM,MAAM,MAAM,MAAM,IAAI,QAAQ,IAAI;QACtC,GAAG,IAAI;QACP,SAAS;YACP,gBAAgB;YAChB,GAAI,MAAM,WAAW,CAAC,CAAC;QACzB;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,YAAY,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAC/C,MAAM,IAAI,MAAM,aAAa,CAAC,MAAM,EAAE,IAAI,MAAM,EAAE;IACpD;IACA,IAAI,IAAI,MAAM,KAAK,KAAK,OAAO;IAC/B,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 98, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/facuo/OneDrive/Documentos/UTN/4to/DAO/TP-Git/tp_dao/lib/api/endpoints.ts"],"sourcesContent":["import { api } from './client';\r\nimport type { Page, Paciente, Medico, Especialidad, Turno, Receta, ID } from './dto';\r\n\r\n// PACIENTES\r\nexport const listPacientes = (q = '', page = 1, size = 10) =>\r\n  api<Page<Paciente>>('/api/pacientes', { searchParams: { search: q, page, size } });\r\n\r\nexport const getPaciente = (id: ID) => api<Paciente>(`/api/pacientes/${id}`);\r\nexport const createPaciente = (data: Partial<Paciente>) =>\r\n  api<Paciente>('/api/pacientes', { method: 'POST', body: JSON.stringify(data) });\r\nexport const updatePaciente = (id: ID, data: Partial<Paciente>) =>\r\n  api<Paciente>(`/api/pacientes/${id}`, { method: 'PUT', body: JSON.stringify(data) });\r\nexport const deletePaciente = (id: ID) =>\r\n  api<void>(`/api/pacientes/${id}`, { method: 'DELETE' });\r\n\r\n// MEDICOS y ESPECIALIDADES\r\nexport const listMedicos = (search = '') =>\r\n  api<Medico[]>('/api/medicos', { searchParams: { search } });\r\nexport const getMedico = (id: ID) => api<Medico>(`/api/medicos/${id}`);\r\nexport const createMedico = (data: Partial<Medico>) =>\r\n  api<Medico>('/api/medicos', { method: 'POST', body: JSON.stringify(data) });\r\nexport const updateMedico = (id: ID, data: Partial<Medico>) =>\r\n  api<Medico>(`/api/medicos/${id}`, { method: 'PUT', body: JSON.stringify(data) });\r\nexport const deleteMedico = (id: ID) => api<void>(`/api/medicos/${id}`, { method: 'DELETE' });\r\n\r\nexport const listEspecialidades = () => api<Especialidad[]>('/api/especialidades');\r\nexport const createEspecialidad = (data: Partial<Especialidad>) =>\r\n  api<Especialidad>('/api/especialidades', { method: 'POST', body: JSON.stringify(data) });\r\n\r\n// TURNOS\r\nexport const listTurnos = (params: {\r\n  medicoId?: ID; pacienteId?: ID; desde?: string; hasta?: string; estado?: string;\r\n} = {}) => api<Turno[]>('/api/turnos', { searchParams: params });\r\n\r\nexport const createTurno = (data: Partial<Turno>) =>\r\n  api<Turno>('/api/turnos', { method: 'POST', body: JSON.stringify(data) });\r\n\r\nexport const getTurno = (id: ID) => api<Turno>(`/api/turnos/${id}`);\r\n\r\nexport const patchEstadoTurno = (id: ID, estado: string) =>\r\n  api<Turno>(`/api/turnos/${id}/estado`, { method: 'PATCH', body: JSON.stringify({ estado }) });\r\n\r\n// RECETAS\r\nexport const listRecetas = (params: { turnoId?: ID; pacienteId?: ID; medicoId?: ID } = {}) =>\r\n  api<Receta[]>('/api/recetas', { searchParams: params });\r\n\r\nexport const createReceta = (data: Partial<Receta>) =>\r\n  api<Receta>('/api/recetas', { method: 'POST', body: JSON.stringify(data) });\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAIO,MAAM,gBAAgB,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,EAAE,OAAO,EAAE,GACvD,IAAA,2HAAG,EAAiB,kBAAkB;QAAE,cAAc;YAAE,QAAQ;YAAG;YAAM;QAAK;IAAE;AAE3E,MAAM,cAAc,CAAC,KAAW,IAAA,2HAAG,EAAW,CAAC,eAAe,EAAE,IAAI;AACpE,MAAM,iBAAiB,CAAC,OAC7B,IAAA,2HAAG,EAAW,kBAAkB;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AACxE,MAAM,iBAAiB,CAAC,IAAQ,OACrC,IAAA,2HAAG,EAAW,CAAC,eAAe,EAAE,IAAI,EAAE;QAAE,QAAQ;QAAO,MAAM,KAAK,SAAS,CAAC;IAAM;AAC7E,MAAM,iBAAiB,CAAC,KAC7B,IAAA,2HAAG,EAAO,CAAC,eAAe,EAAE,IAAI,EAAE;QAAE,QAAQ;IAAS;AAGhD,MAAM,cAAc,CAAC,SAAS,EAAE,GACrC,IAAA,2HAAG,EAAW,gBAAgB;QAAE,cAAc;YAAE;QAAO;IAAE;AACpD,MAAM,YAAY,CAAC,KAAW,IAAA,2HAAG,EAAS,CAAC,aAAa,EAAE,IAAI;AAC9D,MAAM,eAAe,CAAC,OAC3B,IAAA,2HAAG,EAAS,gBAAgB;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AACpE,MAAM,eAAe,CAAC,IAAQ,OACnC,IAAA,2HAAG,EAAS,CAAC,aAAa,EAAE,IAAI,EAAE;QAAE,QAAQ;QAAO,MAAM,KAAK,SAAS,CAAC;IAAM;AACzE,MAAM,eAAe,CAAC,KAAW,IAAA,2HAAG,EAAO,CAAC,aAAa,EAAE,IAAI,EAAE;QAAE,QAAQ;IAAS;AAEpF,MAAM,qBAAqB,IAAM,IAAA,2HAAG,EAAiB;AACrD,MAAM,qBAAqB,CAAC,OACjC,IAAA,2HAAG,EAAe,uBAAuB;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AAGjF,MAAM,aAAa,CAAC,SAEvB,CAAC,CAAC,GAAK,IAAA,2HAAG,EAAU,eAAe;QAAE,cAAc;IAAO;AAEvD,MAAM,cAAc,CAAC,OAC1B,IAAA,2HAAG,EAAQ,eAAe;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AAElE,MAAM,WAAW,CAAC,KAAW,IAAA,2HAAG,EAAQ,CAAC,YAAY,EAAE,IAAI;AAE3D,MAAM,mBAAmB,CAAC,IAAQ,SACvC,IAAA,2HAAG,EAAQ,CAAC,YAAY,EAAE,GAAG,OAAO,CAAC,EAAE;QAAE,QAAQ;QAAS,MAAM,KAAK,SAAS,CAAC;YAAE;QAAO;IAAG;AAGtF,MAAM,cAAc,CAAC,SAA2D,CAAC,CAAC,GACvF,IAAA,2HAAG,EAAW,gBAAgB;QAAE,cAAc;IAAO;AAEhD,MAAM,eAAe,CAAC,OAC3B,IAAA,2HAAG,EAAS,gBAAgB;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/facuo/OneDrive/Documentos/UTN/4to/DAO/TP-Git/tp_dao/app/pacientes/nuevo/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport FormField from '@/components/FormField';\r\nimport { pacienteSchema, type PacienteInput } from '@/lib/validation/paciente.schema';\r\nimport { createPaciente } from '@/lib/api/endpoints';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport default function NuevoPacientePage() {\r\n  const router = useRouter();\r\n  const { register, handleSubmit, formState: { errors, isSubmitting } } =\r\n    useForm<PacienteInput>({ resolver: zodResolver(pacienteSchema) });\r\n\r\n  return (\r\n    <section className=\"grid gap-4\">\r\n      <h1 className=\"text-xl font-semibold\">Nuevo paciente</h1>\r\n      <form className=\"card grid gap-4\" onSubmit={handleSubmit(async (values)=>{\r\n        await createPaciente(values);\r\n        router.push('/pacientes');\r\n      })}>\r\n        <FormField label=\"DNI\" error={errors.dni?.message}>\r\n          <input\r\n            className=\"input\"\r\n            inputMode=\"numeric\"\r\n            maxLength={8}\r\n            pattern=\"\\d*\"\r\n            onInput={(e) => { e.currentTarget.value = e.currentTarget.value.replace(/\\D/g, ''); }}\r\n            {...register('dni', {\r\n              setValueAs: (v) => (v ?? '').replace(/\\D/g, ''), // asegura solo dígitos antes de validar\r\n            })}\r\n          />\r\n        </FormField>\r\n        <div className=\"grid md:grid-cols-2 gap-4\">\r\n          <FormField label=\"Nombre\" error={errors.nombre?.message}>\r\n            <input className=\"input\" {...register('nombre')} />\r\n          </FormField>\r\n          <FormField label=\"Apellido\" error={errors.apellido?.message}>\r\n            <input className=\"input\" {...register('apellido')} />\r\n          </FormField>\r\n        </div>\r\n        <div className=\"grid md:grid-cols-2 gap-4\">\r\n          <FormField label=\"Mail\" error={errors.mail?.message}>\r\n            <input className=\"input\" {...register('mail')} />\r\n          </FormField>\r\n          <FormField label=\"Teléfono\" error={errors.telefono?.message}>\r\n            <input\r\n              className=\"input\"\r\n              inputMode=\"numeric\"\r\n              maxLength={15}\r\n              pattern=\"\\d*\"\r\n              placeholder=\"Solo números\"\r\n              onInput={(e) => { e.currentTarget.value = e.currentTarget.value.replace(/\\D/g, ''); }}\r\n              {...register('telefono', {\r\n                setValueAs: (v) => (v ?? '').replace(/\\D/g, ''), // quita espacios, +, guiones, etc.\r\n              })}\r\n            />\r\n          </FormField>\r\n        </div>\r\n        <FormField label=\"Fecha de nacimiento\" error={errors.fecha_nacimiento?.message}>\r\n          <input\r\n            className=\"input\"\r\n            type=\"date\"\r\n            max={new Date().toISOString().slice(0, 10)} // evita elegir una fecha futura\r\n            {...register('fecha_nacimiento')}\r\n          />\r\n        </FormField>\r\n\r\n\r\n        <div className=\"flex gap-2\">\r\n          <button className=\"btn\" disabled={isSubmitting} type=\"submit\">Guardar</button>\r\n        </div>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GACnE,IAAA,yKAAO,EAAgB;QAAE,UAAU,IAAA,6KAAW,EAAC,yJAAc;IAAE;IAEjE,qBACE,8OAAC;QAAQ,WAAU;;0BACjB,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,8OAAC;gBAAK,WAAU;gBAAkB,UAAU,aAAa,OAAO;oBAC9D,MAAM,IAAA,yIAAc,EAAC;oBACrB,OAAO,IAAI,CAAC;gBACd;;kCACE,8OAAC,mIAAS;wBAAC,OAAM;wBAAM,OAAO,OAAO,GAAG,EAAE;kCACxC,cAAA,8OAAC;4BACC,WAAU;4BACV,WAAU;4BACV,WAAW;4BACX,SAAQ;4BACR,SAAS,CAAC;gCAAQ,EAAE,aAAa,CAAC,KAAK,GAAG,EAAE,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO;4BAAK;4BACnF,GAAG,SAAS,OAAO;gCAClB,YAAY,CAAC,IAAM,CAAC,KAAK,EAAE,EAAE,OAAO,CAAC,OAAO;4BAC9C,EAAE;;;;;;;;;;;kCAGN,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mIAAS;gCAAC,OAAM;gCAAS,OAAO,OAAO,MAAM,EAAE;0CAC9C,cAAA,8OAAC;oCAAM,WAAU;oCAAS,GAAG,SAAS,SAAS;;;;;;;;;;;0CAEjD,8OAAC,mIAAS;gCAAC,OAAM;gCAAW,OAAO,OAAO,QAAQ,EAAE;0CAClD,cAAA,8OAAC;oCAAM,WAAU;oCAAS,GAAG,SAAS,WAAW;;;;;;;;;;;;;;;;;kCAGrD,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,mIAAS;gCAAC,OAAM;gCAAO,OAAO,OAAO,IAAI,EAAE;0CAC1C,cAAA,8OAAC;oCAAM,WAAU;oCAAS,GAAG,SAAS,OAAO;;;;;;;;;;;0CAE/C,8OAAC,mIAAS;gCAAC,OAAM;gCAAW,OAAO,OAAO,QAAQ,EAAE;0CAClD,cAAA,8OAAC;oCACC,WAAU;oCACV,WAAU;oCACV,WAAW;oCACX,SAAQ;oCACR,aAAY;oCACZ,SAAS,CAAC;wCAAQ,EAAE,aAAa,CAAC,KAAK,GAAG,EAAE,aAAa,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO;oCAAK;oCACnF,GAAG,SAAS,YAAY;wCACvB,YAAY,CAAC,IAAM,CAAC,KAAK,EAAE,EAAE,OAAO,CAAC,OAAO;oCAC9C,EAAE;;;;;;;;;;;;;;;;;kCAIR,8OAAC,mIAAS;wBAAC,OAAM;wBAAsB,OAAO,OAAO,gBAAgB,EAAE;kCACrE,cAAA,8OAAC;4BACC,WAAU;4BACV,MAAK;4BACL,KAAK,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,GAAG;4BACtC,GAAG,SAAS,mBAAmB;;;;;;;;;;;kCAKpC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAO,WAAU;4BAAM,UAAU;4BAAc,MAAK;sCAAS;;;;;;;;;;;;;;;;;;;;;;;AAKxE","debugId":null}}]
}