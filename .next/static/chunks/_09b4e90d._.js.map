{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/facuo/OneDrive/Documentos/UTN/4to/DAO/TP-Git/tp_dao/lib/api/client.ts"],"sourcesContent":["export async function api<T>(\r\n  path: string,\r\n  init?: RequestInit & { searchParams?: Record<string, string | number | boolean | undefined> }\r\n): Promise<T> {\r\n  const url = new URL(path, typeof window !== 'undefined' ? window.location.origin : 'http://localhost:3000');\r\n  if (init?.searchParams) {\r\n    Object.entries(init.searchParams).forEach(([k, v]) => {\r\n      if (v !== undefined && v !== null) url.searchParams.set(k, String(v));\r\n    });\r\n  }\r\n  const res = await fetch(url.toString(), {\r\n    ...init,\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      ...(init?.headers || {}),\r\n    },\r\n  });\r\n  if (!res.ok) {\r\n    const errorText = await res.text().catch(() => '');\r\n    throw new Error(errorText || `Error ${res.status}`);\r\n  }\r\n  if (res.status === 204) return undefined as unknown as T;\r\n  return res.json() as Promise<T>;\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,eAAe,IACpB,IAAY,EACZ,IAA6F;IAE7F,MAAM,MAAM,IAAI,IAAI,MAAM,uCAAgC,OAAO,QAAQ,CAAC,MAAM,GAAG;IACnF,IAAI,iBAAA,2BAAA,KAAM,YAAY,EAAE;QACtB,OAAO,OAAO,CAAC,KAAK,YAAY,EAAE,OAAO,CAAC;gBAAC,CAAC,GAAG,EAAE;YAC/C,IAAI,MAAM,aAAa,MAAM,MAAM,IAAI,YAAY,CAAC,GAAG,CAAC,GAAG,OAAO;QACpE;IACF;IACA,MAAM,MAAM,MAAM,MAAM,IAAI,QAAQ,IAAI;QACtC,GAAG,IAAI;QACP,SAAS;YACP,gBAAgB;YAChB,GAAI,CAAA,iBAAA,2BAAA,KAAM,OAAO,KAAI,CAAC,CAAC;QACzB;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,YAAY,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;QAC/C,MAAM,IAAI,MAAM,aAAa,AAAC,SAAmB,OAAX,IAAI,MAAM;IAClD;IACA,IAAI,IAAI,MAAM,KAAK,KAAK,OAAO;IAC/B,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/facuo/OneDrive/Documentos/UTN/4to/DAO/TP-Git/tp_dao/lib/api/endpoints.ts"],"sourcesContent":["import { api } from './client';\r\nimport type { Page, Paciente, Medico, Especialidad, Turno, Receta, ID } from './dto';\r\n\r\n// PACIENTES\r\nexport const listPacientes = (q = '', page = 1, size = 10) =>\r\n  api<Page<Paciente>>('/api/pacientes', { searchParams: { search: q, page, size } });\r\n\r\nexport const getPaciente = (id: ID) => api<Paciente>(`/api/pacientes/${id}`);\r\nexport const createPaciente = (data: Partial<Paciente>) =>\r\n  api<Paciente>('/api/pacientes', { method: 'POST', body: JSON.stringify(data) });\r\nexport const updatePaciente = (id: ID, data: Partial<Paciente>) =>\r\n  api<Paciente>(`/api/pacientes/${id}`, { method: 'PUT', body: JSON.stringify(data) });\r\nexport const deletePaciente = (id: ID) =>\r\n  api<void>(`/api/pacientes/${id}`, { method: 'DELETE' });\r\n\r\n// MEDICOS y ESPECIALIDADES\r\nexport const listMedicos = (search = '') =>\r\n  api<Medico[]>('/api/medicos', { searchParams: { search } });\r\nexport const getMedico = (id: ID) => api<Medico>(`/api/medicos/${id}`);\r\nexport const createMedico = (data: Partial<Medico>) =>\r\n  api<Medico>('/api/medicos', { method: 'POST', body: JSON.stringify(data) });\r\nexport const updateMedico = (id: ID, data: Partial<Medico>) =>\r\n  api<Medico>(`/api/medicos/${id}`, { method: 'PUT', body: JSON.stringify(data) });\r\nexport const deleteMedico = (id: ID) => api<void>(`/api/medicos/${id}`, { method: 'DELETE' });\r\n\r\nexport const listEspecialidades = () => api<Especialidad[]>('/api/especialidades');\r\nexport const createEspecialidad = (data: Partial<Especialidad>) =>\r\n  api<Especialidad>('/api/especialidades', { method: 'POST', body: JSON.stringify(data) });\r\n\r\n// TURNOS\r\nexport const listTurnos = (params: {\r\n  medicoId?: ID; pacienteId?: ID; desde?: string; hasta?: string; estado?: string;\r\n} = {}) => api<Turno[]>('/api/turnos', { searchParams: params });\r\n\r\nexport const createTurno = (data: Partial<Turno>) =>\r\n  api<Turno>('/api/turnos', { method: 'POST', body: JSON.stringify(data) });\r\n\r\nexport const getTurno = (id: ID) => api<Turno>(`/api/turnos/${id}`);\r\n\r\nexport const patchEstadoTurno = (id: ID, estado: string) =>\r\n  api<Turno>(`/api/turnos/${id}/estado`, { method: 'PATCH', body: JSON.stringify({ estado }) });\r\n\r\n// RECETAS\r\nexport const listRecetas = (params: { turnoId?: ID; pacienteId?: ID; medicoId?: ID } = {}) =>\r\n  api<Receta[]>('/api/recetas', { searchParams: params });\r\n\r\nexport const createReceta = (data: Partial<Receta>) =>\r\n  api<Receta>('/api/recetas', { method: 'POST', body: JSON.stringify(data) });\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAIO,MAAM,gBAAgB;QAAC,qEAAI,IAAI,wEAAO,GAAG,wEAAO;WACrD,IAAA,8HAAG,EAAiB,kBAAkB;QAAE,cAAc;YAAE,QAAQ;YAAG;YAAM;QAAK;IAAE;;AAE3E,MAAM,cAAc,CAAC,KAAW,IAAA,8HAAG,EAAW,AAAC,kBAAoB,OAAH;AAChE,MAAM,iBAAiB,CAAC,OAC7B,IAAA,8HAAG,EAAW,kBAAkB;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AACxE,MAAM,iBAAiB,CAAC,IAAQ,OACrC,IAAA,8HAAG,EAAW,AAAC,kBAAoB,OAAH,KAAM;QAAE,QAAQ;QAAO,MAAM,KAAK,SAAS,CAAC;IAAM;AAC7E,MAAM,iBAAiB,CAAC,KAC7B,IAAA,8HAAG,EAAO,AAAC,kBAAoB,OAAH,KAAM;QAAE,QAAQ;IAAS;AAGhD,MAAM,cAAc;QAAC,0EAAS;WACnC,IAAA,8HAAG,EAAW,gBAAgB;QAAE,cAAc;YAAE;QAAO;IAAE;;AACpD,MAAM,YAAY,CAAC,KAAW,IAAA,8HAAG,EAAS,AAAC,gBAAkB,OAAH;AAC1D,MAAM,eAAe,CAAC,OAC3B,IAAA,8HAAG,EAAS,gBAAgB;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AACpE,MAAM,eAAe,CAAC,IAAQ,OACnC,IAAA,8HAAG,EAAS,AAAC,gBAAkB,OAAH,KAAM;QAAE,QAAQ;QAAO,MAAM,KAAK,SAAS,CAAC;IAAM;AACzE,MAAM,eAAe,CAAC,KAAW,IAAA,8HAAG,EAAO,AAAC,gBAAkB,OAAH,KAAM;QAAE,QAAQ;IAAS;AAEpF,MAAM,qBAAqB,IAAM,IAAA,8HAAG,EAAiB;AACrD,MAAM,qBAAqB,CAAC,OACjC,IAAA,8HAAG,EAAe,uBAAuB;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AAGjF,MAAM,aAAa;QAAC,0EAEvB,CAAC;WAAM,IAAA,8HAAG,EAAU,eAAe;QAAE,cAAc;IAAO;;AAEvD,MAAM,cAAc,CAAC,OAC1B,IAAA,8HAAG,EAAQ,eAAe;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM;AAElE,MAAM,WAAW,CAAC,KAAW,IAAA,8HAAG,EAAQ,AAAC,eAAiB,OAAH;AAEvD,MAAM,mBAAmB,CAAC,IAAQ,SACvC,IAAA,8HAAG,EAAQ,AAAC,eAAiB,OAAH,IAAG,YAAU;QAAE,QAAQ;QAAS,MAAM,KAAK,SAAS,CAAC;YAAE;QAAO;IAAG;AAGtF,MAAM,cAAc;QAAC,0EAA2D,CAAC;WACtF,IAAA,8HAAG,EAAW,gBAAgB;QAAE,cAAc;IAAO;;AAEhD,MAAM,eAAe,CAAC,OAC3B,IAAA,8HAAG,EAAS,gBAAgB;QAAE,QAAQ;QAAQ,MAAM,KAAK,SAAS,CAAC;IAAM","debugId":null}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/facuo/OneDrive/Documentos/UTN/4to/DAO/TP-Git/tp_dao/app/pacientes/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { useEffect, useState } from 'react';\r\nimport { listPacientes, deletePaciente } from '@/lib/api/endpoints';\r\nimport type { Paciente } from '@/lib/api/dto';\r\n\r\nexport default function PacientesPage() {\r\n  const [q, setQ] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [data, setData] = useState<{rows: Paciente[]; total: number}>({ rows: [], total: 0 });\r\n  const size = 10;\r\n\r\n  async function load() {\r\n    const res = await listPacientes(q, page, size);\r\n    setData({ rows: res.data, total: res.total });\r\n  }\r\n  useEffect(() => { load(); }, [q, page]);\r\n\r\n  return (\r\n    <section className=\"grid gap-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-semibold\">Pacientes</h1>\r\n        <Link href=\"/pacientes/nuevo\" className=\"btn\">Nuevo paciente</Link>\r\n      </div>\r\n\r\n      <div className=\"card grid gap-3 overflow-x-auto\">\r\n        <input\r\n          className=\"input\"\r\n          placeholder=\"Buscar por DNI, nombre o apellido...\"\r\n          value={q}\r\n          onChange={(e) => setQ(e.target.value)}\r\n        />\r\n\r\n        <table className=\"table table-fixed\">\r\n          {/* prettier-ignore */}\r\n          <colgroup><col className=\"w-16\"/><col className=\"w-28\"/><col/><col className=\"w-[26ch]\"/><col className=\"w-28\"/></colgroup>\r\n          <thead>\r\n            <tr className=\"text-sm\">\r\n              <th className=\"px-3 text-center\">ID</th>\r\n              <th className=\"px-3 text-center\">DNI</th>\r\n              <th className=\"px-3 text-left\">Nombre</th>\r\n              <th className=\"px-3 text-left\">Mail</th>\r\n              <th className=\"px-3 text-right\"></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {data.rows.map((p) => (\r\n              <tr key={p.id} className=\"align-middle\">\r\n                <td className=\"px-3 text-center font-mono tabular-nums\">{p.id}</td>\r\n                <td className=\"px-3 text-center font-mono tabular-nums\">{p.dni}</td>\r\n                <td className=\"px-3 text-left\">{p.apellido}, {p.nombre}</td>\r\n                <td className=\"px-3 text-left\"><span className=\"block truncate\">{p.mail || '-'}</span></td>\r\n                <td className=\"px-3 text-right whitespace-nowrap\">\r\n                  <Link className=\"link mr-3\" href={`/pacientes/${p.id}`}>Editar</Link>\r\n                  <button className=\"link text-red-600\" onClick={async () => {\r\n                    if (confirm('Â¿Eliminar paciente?')) { await deletePaciente(p.id); await load(); }\r\n                  }}>Eliminar</button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n\r\n        <div className=\"flex justify-between text-sm\">\r\n          <span>Total: {data.total}</span>\r\n          <div className=\"flex gap-2\">\r\n            <button className=\"btn-outline\" disabled={page <= 1} onClick={() => setPage(p => p - 1)}>Anterior</button>\r\n            <button className=\"btn-outline\" disabled={page * size >= data.total} onClick={() => setPage(p => p + 1)}>Siguiente</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </section>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,GAAG,KAAK,GAAG,IAAA,yKAAQ,EAAC;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAoC;QAAE,MAAM,EAAE;QAAE,OAAO;IAAE;IACzF,MAAM,OAAO;IAEb,eAAe;QACb,MAAM,MAAM,MAAM,IAAA,2IAAa,EAAC,GAAG,MAAM;QACzC,QAAQ;YAAE,MAAM,IAAI,IAAI;YAAE,OAAO,IAAI,KAAK;QAAC;IAC7C;IACA,IAAA,0KAAS;mCAAC;YAAQ;QAAQ;kCAAG;QAAC;QAAG;KAAK;IAEtC,qBACE,6LAAC;QAAQ,WAAU;;0BACjB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAwB;;;;;;kCACtC,6LAAC,0KAAI;wBAAC,MAAK;wBAAmB,WAAU;kCAAM;;;;;;;;;;;;0BAGhD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,WAAU;wBACV,aAAY;wBACZ,OAAO;wBACP,UAAU,CAAC,IAAM,KAAK,EAAE,MAAM,CAAC,KAAK;;;;;;kCAGtC,6LAAC;wBAAM,WAAU;;0CAEf,6LAAC;;kDAAS,6LAAC;wCAAI,WAAU;;;;;;kDAAQ,6LAAC;wCAAI,WAAU;;;;;;kDAAQ,6LAAC;;;;;kDAAK,6LAAC;wCAAI,WAAU;;;;;;kDAAY,6LAAC;wCAAI,WAAU;;;;;;;;;;;;0CACxG,6LAAC;0CACC,cAAA,6LAAC;oCAAG,WAAU;;sDACZ,6LAAC;4CAAG,WAAU;sDAAmB;;;;;;sDACjC,6LAAC;4CAAG,WAAU;sDAAmB;;;;;;sDACjC,6LAAC;4CAAG,WAAU;sDAAiB;;;;;;sDAC/B,6LAAC;4CAAG,WAAU;sDAAiB;;;;;;sDAC/B,6LAAC;4CAAG,WAAU;;;;;;;;;;;;;;;;;0CAGlB,6LAAC;0CACE,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,kBACd,6LAAC;wCAAc,WAAU;;0DACvB,6LAAC;gDAAG,WAAU;0DAA2C,EAAE,EAAE;;;;;;0DAC7D,6LAAC;gDAAG,WAAU;0DAA2C,EAAE,GAAG;;;;;;0DAC9D,6LAAC;gDAAG,WAAU;;oDAAkB,EAAE,QAAQ;oDAAC;oDAAG,EAAE,MAAM;;;;;;;0DACtD,6LAAC;gDAAG,WAAU;0DAAiB,cAAA,6LAAC;oDAAK,WAAU;8DAAkB,EAAE,IAAI,IAAI;;;;;;;;;;;0DAC3E,6LAAC;gDAAG,WAAU;;kEACZ,6LAAC,0KAAI;wDAAC,WAAU;wDAAY,MAAM,AAAC,cAAkB,OAAL,EAAE,EAAE;kEAAI;;;;;;kEACxD,6LAAC;wDAAO,WAAU;wDAAoB,SAAS;4DAC7C,IAAI,QAAQ,wBAAwB;gEAAE,MAAM,IAAA,4IAAc,EAAC,EAAE,EAAE;gEAAG,MAAM;4DAAQ;wDAClF;kEAAG;;;;;;;;;;;;;uCATE,EAAE,EAAE;;;;;;;;;;;;;;;;kCAgBnB,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;oCAAK;oCAAQ,KAAK,KAAK;;;;;;;0CACxB,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAO,WAAU;wCAAc,UAAU,QAAQ;wCAAG,SAAS,IAAM,QAAQ,CAAA,IAAK,IAAI;kDAAI;;;;;;kDACzF,6LAAC;wCAAO,WAAU;wCAAc,UAAU,OAAO,QAAQ,KAAK,KAAK;wCAAE,SAAS,IAAM,QAAQ,CAAA,IAAK,IAAI;kDAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrH;GApEwB;KAAA","debugId":null}}]
}